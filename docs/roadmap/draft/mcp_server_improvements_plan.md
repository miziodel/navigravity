# Draft: Navidrome MCP Server Improvements Strategy

**Status**: Draft / Roadmap
**Date**: 2026-01-10
**Context**: Technical Report (Radiohead/Creep Curation Session)

This document outlines the proposed technical improvements for the Navidrome MCP Server to enhance stability, efficiency, and versatility.

## 1. Critical Stability: Quality Assessment Graceful Degradation
**Problem**: The `assess_playlist_quality` tool currently fails entirely if any single Song ID is not found in the Navidrome index.
**Proposed Solution**:
- Implement a loop with try/except for each song lookup.
- Collect invalid IDs into a `missing_ids` field in the response.
- Calculate metrics (diversity, repetition) only on successfully retrieved tracks.

## 2. Workflow Efficiency: Similar Artists Discovery
**Problem**: Agents currently rely on internal knowledge for "Bridge Artists" instead of server-side intelligence.
**Proposed Solution**:
- Add `get_similar_artists(artist_name: str, limit: int = 10)` tool.
- Logic: Artist Search -> ID Extraction -> Subsonic `getSimilarArtists` call.

## 3. Tool Versatility: Multi-Mode Harvesting
**Problem**: Building diverse candidate pools requires multiple sequential tool calls.
**Proposed Solution**:
- Update `get_smart_candidates` to accept a comma-separated string for the `mode` parameter.
- Refactor internal logic to fetch proportional quotas from each requested mode (e.g., `mode="hidden_gems,divergent"`).
- Merge and shuffle result sets.

## 4. Metadata: Batch Genre Handling
**Problem**: Fetching tracks from multiple genres (e.g., Jazz + Classical) requires multiple calls to `get_genre_tracks`.
**Proposed Solution**:
- Update `get_genre_tracks` to accept a list or comma-separated string of genres.
- Fetch random tracks proportionally from each genre.

---
*Generated by Antigravity Agent*
